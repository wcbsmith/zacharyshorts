(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(29)},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(11),o=a.n(i),c=(a(18),a(1)),r=a(7),d=a(3),l=a(2),u=a(4),h=(a(20),a(5)),m=(a(22),a(6)),p=a.n(m),f=a(12),v=a.n(f),E=a(8),P=a.n(E),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).send=function(e,t,s,n,i,o,c,r){var d=Math.floor(1e6*Math.random()+1),l="From=".concat(e,"&to=").concat(t,"&Subject=").concat(encodeURIComponent(s),"&Body=").concat(encodeURIComponent(n));i.token?(l+="&SecureToken=".concat(i.token,"&Action=SendFromStored"),r=i.callback):l+="&Host=".concat(i,"&Username=").concat(o,"&Password=").concat(c,"&Action=Send"),l+="&cachebuster="+d,a.ajaxPost("https://smtpjs.com/v2/smtp.aspx?",l,r)},a.sendWithAttachment=function(e,t,s,n,i,o,c,r,d){var l=Math.floor(1e6*Math.random()+1),u="From=".concat(e,"&to=").concat(t,"&Subject=").concat(encodeURIComponent(s),"&Body=").concat(encodeURIComponent(n),"&Attachment=").concat(encodeURIComponent(r));i.token?u+="&SecureToken=".concat(i.token,"&Action=SendFromStored"):u+="&Host=".concat(i,"&Username=").concat(o,"&Password=").concat(c,"&Action=Send"),u+="&cachebuster=".concat(l),a.ajaxPost("https://smtpjs.com/v2/smtp.aspx?",u,d)},a.ajaxPost=function(e,t,s){var n=a.createCORSRequest("POST",e);n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){var e=n.responseText;s&&s(e)},n.send(t)},a.ajax=function(e,t){var s=a.createCORSRequest("GET",e);s.onload=function(){var e=s.responseText;t&&t(e)},s.send()},a.createCORSRequest=function(e,t){var a=new XMLHttpRequest;return"withCredentials"in a?a.open(e,t,!0):"undefined"!==typeof P.a?(a=new P.a).open(e,t):a=null,a},a}return Object(u.a)(t,e),t}(s.Component),T=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(l.a)(t).call(this))).shuffle=function(e){for(var t,a,s=e.length;0!==s;)a=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[a],e[a]=t;return e},e.handleName=function(t){e.setState({nameToBeAdded:t.target.value})},e.handleEmail=function(t){e.setState({emailToBeAdded:t.target.value})},e.handleSpouseName=function(t){e.setState({spouseNameToBeAdded:t.target.value})},e.handleSpouseEmail=function(t){e.setState({spouseEmailToBeAdded:t.target.value})},e.sendEmail=function(e){var t=new A,a="".concat(e.giver.name,",  thank you for participating in Secret Santa this year!  You will have the chance to give a gift to ").concat(e.receiver.name,".  Please spend around $10-20 and make the gift meaningful.  Ask for help if you need it!  Merry Christmas!");t.send("shorts23@gmail.com","".concat(e.giver.email),"Secret Santa",a,{token:"e3c91f86-1f3c-4a0b-9719-2f61af0b156b"})},e.makePairs=function(){for(var t=0;t<e.state.participants.length;t++)t!==e.state.participants.length-1?e.state.pairedParticipants.push({giver:e.state.shuffledParticipants[t],receiver:e.state.shuffledParticipants[t+1]}):e.state.pairedParticipants.push({giver:e.state.shuffledParticipants[t],receiver:e.state.shuffledParticipants[0]})},e.submitNames=function(){e.state.pairedParticipants.forEach(function(t){setTimeout(e.sendEmail(t),1e3)})},e.savePDF=function(){var t=new v.a;t.fromHTML(p()("#content").html(),15,15,{width:170,elementHandlers:{"#editor":function(e,t){return!0}}}),t.save("secret-santa-".concat(e.state.year,".pdf"))},e.state={participants:[],nameToBeAdded:"",emailToBeAdded:"",spouseNameToBeAdded:"",spouseEmailToBeAdded:"",pairedParticipants:[],shuffledParticipants:[],year:""},e.handleEnter=e.handleEnter.bind(Object(h.a)(Object(h.a)(e))),e}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress),p()("#submit").click(function(){p()("html, body").animate({scrollTop:p()("#results").offset().top},1e3)}),this.setState({year:(new Date).getFullYear()})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleEnter",value:function(){if(""!==this.state.nameToBeAdded&&""!==this.state.emailToBeAdded)if(""!==this.state.spouseNameToBeAdded&&""!==this.state.spouseEmailToBeAdded){this.state.pairedParticipants=[],this.state.participants.push({name:this.state.nameToBeAdded,email:this.state.emailToBeAdded,spouse:this.state.spouseNameToBeAdded,spouseEmail:this.state.spouseEmailToBeAdded}),this.state.shuffledParticipants.push({name:this.state.nameToBeAdded,email:this.state.emailToBeAdded,spouse:this.state.spouseNameToBeAdded,spouseEmail:this.state.spouseEmailToBeAdded}),this.state.participants.push({spouse:this.state.nameToBeAdded,spouseEmail:this.state.emailToBeAdded,name:this.state.spouseNameToBeAdded,email:this.state.spouseEmailToBeAdded}),this.state.shuffledParticipants.push({spouse:this.state.nameToBeAdded,spouseEmail:this.state.emailToBeAdded,name:this.state.spouseNameToBeAdded,email:this.state.spouseEmailToBeAdded}),this.setState({nameToBeAdded:"",emailToBeAdded:"",spouseNameToBeAdded:"",spouseEmailToBeAdded:""}),this.shuffle(this.state.shuffledParticipants);var e=!1;if(this.state.shuffledParticipants.length>3)for(;!0!==e;)for(var t=0;t<this.state.shuffledParticipants.length;t++){if(t!==this.state.shuffledParticipants.length-1){if(this.state.shuffledParticipants[t].spouse===this.state.shuffledParticipants[t+1].name||this.state.shuffledParticipants[t].name===this.state.shuffledParticipants[t+1].spouse){t=-1,this.shuffle(this.state.shuffledParticipants);continue}}else if(this.state.shuffledParticipants[t].spouse===this.state.shuffledParticipants[0].name||this.state.shuffledParticipants[t].name===this.state.shuffledParticipants[0].spouse){t=-1,this.shuffle(this.state.shuffledParticipants);continue}e=!0}this.state.shuffledParticipants.length>3&&this.makePairs()}else{this.state.pairedParticipants=[],this.state.participants.push({name:this.state.nameToBeAdded,email:this.state.emailToBeAdded}),this.state.shuffledParticipants.push({name:this.state.nameToBeAdded,email:this.state.emailToBeAdded}),this.setState({nameToBeAdded:"",emailToBeAdded:""}),this.shuffle(this.state.shuffledParticipants);var a=!1;if(this.state.shuffledParticipants.length>3)for(;!0!==a;)for(var s=0;s<this.state.shuffledParticipants.length;s++){if(s!==this.state.shuffledParticipants.length-1){if(this.state.shuffledParticipants[s].spouse===this.state.shuffledParticipants[s+1].name||this.state.shuffledParticipants[s].name===this.state.shuffledParticipants[s+1].spouse){s=-1,this.shuffle(this.state.shuffledParticipants);continue}}else if(this.state.shuffledParticipants[s].spouse===this.state.shuffledParticipants[0].name||this.state.shuffledParticipants[s].name===this.state.shuffledParticipants[0].spouse){s=-1,this.shuffle(this.state.shuffledParticipants);continue}a=!0}this.state.shuffledParticipants.length>3&&this.makePairs()}else alert("Fill out all required fields")}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("script",{src:"https://smtpjs.com/v2/smtp.js"}),n.a.createElement("div",{className:"santa-page"},n.a.createElement("h2",null,"secret santa"),n.a.createElement("div",{className:"top-bar"},n.a.createElement("span",null,n.a.createElement("input",{id:"input",placeholder:"Enter name",value:this.state.nameToBeAdded,onChange:this.handleName}),n.a.createElement("input",{type:"email",placeholder:"Enter email",value:this.state.emailToBeAdded,onChange:this.handleEmail}),n.a.createElement("button",{className:"add-name",onClick:this.handleEnter},"Add Name"),n.a.createElement("a",{id:"submit",href:"#results"},n.a.createElement("button",{className:"submit-names",onClick:this.submitNames},"Submit All Names")),n.a.createElement("br",null),n.a.createElement("p",null,"Input spouse name below if you do not want to receive them as your secret santa."),n.a.createElement("input",{id:"spouse",placeholder:"Enter spouse name",value:this.state.spouseNameToBeAdded,onChange:this.handleSpouseName}),n.a.createElement("input",{type:"spouse-email",placeholder:"Enter spouse email",value:this.state.spouseEmailToBeAdded,onChange:this.handleSpouseEmail})),n.a.createElement("div",{className:"name-list"},n.a.createElement("p",null,"Participants: "),this.state.participants.map(function(e,t){return n.a.createElement("p",{key:t},e.name)}))),n.a.createElement("div",null)),n.a.createElement("div",{className:"results",id:"results"},n.a.createElement("h2",null,"results"),n.a.createElement("p",null,n.a.createElement("strong",null,"Your results have been emailed to all participants")),n.a.createElement("p",null,"Results might be found in a spam folder"),n.a.createElement("div",{className:"hide",id:"content"},n.a.createElement("h2",null,"Secret Santa ",this.state.year),this.state.pairedParticipants.map(function(e,t){return n.a.createElement("p",{key:t},"".concat(e.giver.name," gives to ").concat(e.receiver.name))})),n.a.createElement("div",{id:"editor"}),n.a.createElement("button",{id:"print",onClick:this.savePDF},"Save as PDF")))}}]),t}(s.Component),B=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(T,null))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,2,1]]]);
//# sourceMappingURL=main.628aea5d.chunk.js.map